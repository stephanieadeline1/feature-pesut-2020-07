(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"64qa":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var r={0:"Jan.",1:"Feb.",2:"March",3:"April",4:"May",5:"June",6:"July",7:"Aug.",8:"Sept.",9:"Oct.",10:"Nov.",11:"Dec."};function o(t){return void 0===t&&(t=new Date),r[t.getMonth()]}function i(t){return void 0===t&&(t=new Date),o(t)+" "+t.getDate()+", "+t.getFullYear()}function s(t){return null==t}var a=new RegExp(/\s+([^\s]*)\s*$/);function c(t,e){return void 0===e&&(e="Â "),s(t)?"":String(t).replace(a,e+"$1")}},rKEY:function(t,e,n){"use strict";n.r(e);var r=n("yA1Q"),o=n("64qa");var i=function(){var t=window.location;return"".concat(t.protocol,"//").concat(t.host).concat(t.pathname)};var s=n("xcSt");class a extends r.a{constructor(){super(),this.state={loadSucceeded:!1,scrollingDown:!1,stories:[]},this.previousYOffset=-1,this.onScroll=this.onScroll.bind(this),this.throttledOnScroll=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=null,o=null,i=()=>{t.apply(n,o),r=null};return function(){r||(o=arguments,r=setTimeout(i,e))}}(this.onScroll,300)}onScroll(){var t,e=window.pageYOffset,n=this.previousYOffset;e>n?t=!0:e<n&&(t=!1),this.previousYOffset=e,this.setState({scrollingDown:t})}componentDidMount(){window.addEventListener("scroll",this.throttledOnScroll,!1),fetch(s.b).then(t=>t.json()).then(t=>{var e=t.results?t.results:t;this.setState({loadSucceeded:!0,stories:e})})}componentWillUnmount(){window.removeEventListener("scroll",this.throttledOnScroll,!1)}render(t,e){var{loadSucceeded:n,scrollingDown:s,stories:a}=e,c=s?"ribbon ribbon--inactive":"ribbon";n||(c+=" ribbon--hidden");var l=i();return a=a.filter(t=>t.url!==l),Object(r.b)("nav",{class:c},Object(r.b)("p",{class:"ribbon__title"},"Trending on"," ",Object(r.b)("a",{href:"https://www.texastribune.org/"},"The Texas Tribune")),Object(r.b)("ul",{class:"ribbon__stories"},a.slice(0,4).map((t,e)=>{var n="ribbon__story";return 2===e&&(n+=" ribbon__story--three"),3===e&&(n+=" ribbon__story--four"),Object(r.b)("li",{key:t.id,class:n,"ga-event-category":"read more","ga-event-action":"trending","ga-event-label":"apps page"},Object(r.b)("a",{href:t.url},Object(o.b)(t.headline)))})))}}e.default=a},xcSt:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var r="https://www.texastribune.org/api/v2/articles/most_viewed/?format=json&limit=5",o=t=>{var{gutenTag:e,numberOfStories:n=4}=t;return"https://www.texastribune.org/api/v2/articles/?content_type=story,audio,video,pointer&tag=".concat(e,"&tag!=object-tribcast&fields=id,url,pub_date,headline,summary,sitewide_image&limit=").concat(n,"&format=json")}}}]);
//# sourceMappingURL=Ribbon.abfd7634a6.mjs.map