(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"1OyB":function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},"64qa":function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r={0:"Jan.",1:"Feb.",2:"March",3:"April",4:"May",5:"June",6:"July",7:"Aug.",8:"Sept.",9:"Oct.",10:"Nov.",11:"Dec."};function o(t){return void 0===t&&(t=new Date),r[t.getMonth()]}function i(t){return void 0===t&&(t=new Date),o(t)+" "+t.getDate()+", "+t.getFullYear()}function c(t){return null==t}var u=new RegExp(/\s+([^\s]*)\s*$/);function a(t,e){return void 0===e&&(e="Â "),c(t)?"":String(t).replace(u,e+"$1")}},JX7q:function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}n.d(e,"a",(function(){return r}))},Ji7U:function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return o}))},foSv:function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n.d(e,"a",(function(){return r}))},md7G:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("U8pU"),o=n("JX7q");function i(t,e){return!e||"object"!==Object(r.a)(e)&&"function"!=typeof e?Object(o.a)(t):e}},rKEY:function(t,e,n){"use strict";n.r(e);var r=n("1OyB"),o=n("vuIU"),i=n("JX7q"),c=n("Ji7U"),u=n("md7G"),a=n("foSv"),s=n("yA1Q"),l=n("64qa");var f=function(){var t=window.location;return"".concat(t.protocol,"//").concat(t.host).concat(t.pathname)};var b=n("xcSt");function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Object(a.a)(t);if(e){var o=Object(a.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(u.a)(this,n)}}var p=function(t){Object(c.a)(n,t);var e=d(n);function n(){var t;return Object(r.a)(this,n),(t=e.call(this)).state={loadSucceeded:!1,scrollingDown:!1,stories:[]},t.previousYOffset=-1,t.onScroll=t.onScroll.bind(Object(i.a)(t)),t.throttledOnScroll=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this,r=null,o=null,i=function(){t.apply(n,o),r=null};return function(){r||(o=arguments,r=setTimeout(i,e))}}(t.onScroll,300),t}return Object(o.a)(n,[{key:"onScroll",value:function(){var t,e=window.pageYOffset,n=this.previousYOffset;e>n?t=!0:e<n&&(t=!1),this.previousYOffset=e,this.setState({scrollingDown:t})}},{key:"componentDidMount",value:function(){var t=this;window.addEventListener("scroll",this.throttledOnScroll,!1),fetch(b.b).then((function(t){return t.json()})).then((function(e){var n=e.results?e.results:e;t.setState({loadSucceeded:!0,stories:n})}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.throttledOnScroll,!1)}},{key:"render",value:function(t,e){var n=e.loadSucceeded,r=e.scrollingDown,o=e.stories,i=r?"ribbon ribbon--inactive":"ribbon";n||(i+=" ribbon--hidden");var c=f();return o=o.filter((function(t){return t.url!==c})),Object(s.b)("nav",{class:i},Object(s.b)("p",{class:"ribbon__title"},"Trending on"," ",Object(s.b)("a",{href:"https://www.texastribune.org/"},"The Texas Tribune")),Object(s.b)("ul",{class:"ribbon__stories"},o.slice(0,4).map((function(t,e){var n="ribbon__story";return 2===e&&(n+=" ribbon__story--three"),3===e&&(n+=" ribbon__story--four"),Object(s.b)("li",{key:t.id,class:n,"ga-event-category":"read more","ga-event-action":"trending","ga-event-label":"apps page"},Object(s.b)("a",{href:t.url},Object(l.b)(t.headline)))}))))}}]),n}(s.a);e.default=p},vuIU:function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return o}))},xcSt:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var r="https://www.texastribune.org/api/v2/articles/most_viewed/?format=json&limit=5",o=function(t){var e=t.gutenTag,n=t.numberOfStories,r=void 0===n?4:n;return"https://www.texastribune.org/api/v2/articles/?content_type=story,audio,video,pointer&tag=".concat(e,"&tag!=object-tribcast&fields=id,url,pub_date,headline,summary,sitewide_image&limit=").concat(r,"&format=json")}}}]);
//# sourceMappingURL=Ribbon.7c76711fa2.js.map